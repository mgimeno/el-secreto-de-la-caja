// room script file

function room_Load()
{
  townHallMusic.Play();
}

function room_AfterFadeIn()
{
  Verbs.MovePlayer(330, 745);
}

function hTownHallExit_Mode8()
{
  townHallMusic.Stop();
  player.EnterRoom(2, 1230, 750, eDirectionDown);
}
function oSewerLeftOpened_AnyClick()
{
  if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("No hay nada dentro");
 }
 else if(Verbs.UsedAction(eGA_Close)) {
    Verbs.MovePlayer(765, 780);
    player.AddInventory(iLever);
    oSewerLeftOpened.Visible= false;
 }
 else Verbs.Unhandled();
}

function oSewerRightOpened_AnyClick()
{
if(Verbs.UsedAction(eGA_LookAt)) {
  if(hasTakenCoinFromSewer){
    player.Say("No hay nada mas dentro");
  }
  else{
    player.Say("Hay una moneda dentro");
    player.AddInventory(iTwoEuroCoin);
    hasTakenCoinFromSewer = true;
    player.Say("2 eurazos!");
  }
 }
 else if(Verbs.UsedAction(eGA_Close)) {
   Verbs.MovePlayer(1400, 750);
   player.AddInventory(iLever);
  oSewerRightOpened.Visible= false;
 }
 else Verbs.Unhandled();
}

function hSewerLeftClosed_AnyClick()
{
  if(Verbs.UsedAction(eGA_LookAt)) {
    player.Say("Ninja ninja turtles!");
   }
   else if(Verbs.UsedAction(eGA_UseInv) && player.ActiveInventory == iLever){
      Verbs.MovePlayer(765, 780);
      Wait(30);
      player.Say("Espero que no me vea Treygor o alguno de sus secuaces");
      player.LoseInventory(iLever);
      oSewerLeftOpened.Visible= true;
   }
   else if(Verbs.UsedAction(eGA_Open)) {
    player.Say("Esta bien anclada");
   }
   else Verbs.Unhandled();
}

function hSewerRightClosed_AnyClick()
{
   if(Verbs.UsedAction(eGA_LookAt)) {
    player.Say("Ninja ninja turtles!");
   }
   else if(Verbs.UsedAction(eGA_UseInv) && player.ActiveInventory == iLever){
      Verbs.MovePlayer(1400, 750);
      Wait(30);
      player.Say("Espero que no me vea Treygor o alguno de sus secuaces");
      player.LoseInventory(iLever);
      oSewerRightOpened.Visible= true;
   }
   else if(Verbs.UsedAction(eGA_Open)) {
    player.Say("Esta bien anclada");
   }
   else Verbs.Unhandled();
}

function hFountain_AnyClick()
{
if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Me gusta mas cuando esta llena de vino");
 }
 else if(Verbs.UsedAction(eGA_UseInv) && player.ActiveInventory == iEmptyGlass){
    Verbs.MovePlayer( 925, 720);
    Wait(10);
    player.LoseInventory(iEmptyGlass);
    player.AddInventory(iWaterGlass);
    player.Say("Aguica fresca");
 }
 else if(Verbs.UsedAction(eGA_UseInv) && player.ActiveInventory == iWaterGlass){
    player.Say("Ya esta lleno");
 }
 else Verbs.Unhandled();
}

function hBin_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  Verbs.MovePlayer(290, 705);
  player.FaceDirection(eDirectionLeft);
  player.Say("No hay nada dentro");
 }
 else Verbs.Unhandled();
}

function hGarage_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Un garaje, si");
 }
 else if(Verbs.UsedAction(eGA_UseInv) && player.ActiveInventory == iLever){
    player.Say("No soy un ladron");
 }
 else Verbs.Unhandled();
}

function hCar_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Me gusta el color");
 }
 else if(Verbs.UsedAction(eGA_UseInv) && player.ActiveInventory == iLever){
    player.Say("No soy un ladron");
 }
 else Verbs.Unhandled();
}

function hCasino_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Incontables conversaciones existenciales han salido de entre esas paredes");
 }
 else Verbs.Unhandled();
}

function hATM_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Hubiera dicho que el cajero no estaba aqui");
  player.Say("Estoy perdiendo memoria");
 }
 else if(Verbs.UsedAction(eGA_UseInv) && player.ActiveInventory == iCreditCard){
    Verbs.MovePlayer(1615, 700);
    Wait(20);
    player.Say("Mierda! esta fuera de servicio");
 }
 else if(Verbs.UsedAction(eGA_Use)){
   player.Say("Necesitaria mi tarjeta de credito");
 }
 else Verbs.Unhandled();
}

function hBench_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Tete hubiera estado muy agusto ahi sentado");
  player.Say("Otro mitico que se nos fue");
 }
 else if(Verbs.UsedAction(eGA_Use)) {
  player.Say("Tengo cosas que hacer");
 }
 else Verbs.Unhandled();
}

function hBank_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Lugar de tortura");
 }
 else if(Verbs.UsedAction(eGA_Open)) {
  player.Say("Calla, calla, ya me tocara venir pronto");
 }
 else Verbs.Unhandled();
}

function hTownHallClock_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Parece que siempre son las diez en punto en este pueblo");
 }
 else Verbs.Unhandled();
}

function hTownHall_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Antiguo lugar de trabajo del gran Treygor");
 }
 else Verbs.Unhandled();
}
