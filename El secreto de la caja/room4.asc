// room script file

function room_Load()
{
  shopMusic.Play();
}

function room_AfterFadeIn()
{
  Verbs.MovePlayer(700, 640);
  //It should not be necessary to remove 1 and restore the other
  RemoveWalkableArea(2); 
  RestoreWalkableArea(1);
}

function oShopDoorOpened_AnyClick()
{
  
  if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("La puerta, si");
 }
 else if(Verbs.UsedAction(eGA_Close)) {
   Verbs.MovePlayer(255,580);
    oShopDoorOpened.Visible = false;
    oShopDoorClosed.Visible = true;
    //It should not be necessary to remove 1 and restore the other
    RemoveWalkableArea(1);
    RestoreWalkableArea(2);
    
 }
 else if(Verbs.UsedAction(eGA_WalkTo)){
   Verbs.MovePlayer(175, 500);
    shopMusic.Stop();
    player.EnterRoom(2, 1071, 928, eDirectionDown);
 }
 else Verbs.Unhandled();
  
}

function oShopDoorClosed_AnyClick()
{
  if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("La puerta, si");
 }
 else if(Verbs.UsedAction(eGA_Open)) {
   Verbs.MovePlayer(255,580);
  oShopDoorClosed.Visible = false;
  oShopDoorOpened.Visible = true;
  //It should not be necessary to remove 1 and restore the other
  RemoveWalkableArea(2);
  RestoreWalkableArea(1);
 }

 else Verbs.Unhandled();
}

function hFlag_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Bonita bandera pero con mala connotacion");
 }
 else Verbs.Unhandled();
}

function hAC_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Que fresquito");
 }
 else Verbs.Unhandled();
}

function hMusicTapes_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   Verbs.MovePlayer(400, 450);
   player.FaceDirection(eDirectionUp);
   player.Say("Camela");
   player.Say("El Fary");
   player.Say("Modern Talking");
   player.Say("Georgie Dann");
   player.Say("...");
   player.Say("Grandisimos exitos");
 }
 else Verbs.Unhandled();
}

function hWhiteTshirt_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   player.Say("La etiqueta dice");
   player.Say("Propiedad de Butch Coolidge");
  player.Say("No se, pero podrian haber limpiado las manchas de tomate");
 }
 else Verbs.Unhandled();
}

function hGreenTshirt_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Lo mismo te vale de pijama que para una boda");
 }
 else Verbs.Unhandled();
}

function hJacket_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Muy rica la chaqueta");
 }
 else Verbs.Unhandled();
}

function hCamuflageTshirt_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Muy rica la camiseta");
 }
 else Verbs.Unhandled();
}

function hInstruments_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Me encanta el Banjo");
 }
 else if(Verbs.UsedAction(eGA_Use)) {
  player.Say("No se tocar nada");
  player.Say("Mas que mi sardina");
 }
 else Verbs.Unhandled();
}

function hUteboPoster_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Utebo, ciudad de vacaciones");
 }
 else Verbs.Unhandled();
}

function hElectronics_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Menudos cachibaches");
 }
 else Verbs.Unhandled();
}

function hKatana_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Hattori Hanzo!");
 }
 else Verbs.Unhandled();
}

function hMouseHole_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Eso se arregla con un lindo gatuno");
 }
 else Verbs.Unhandled();
}

function hBaseballBat_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("La Cabarra esta lista para defenderse");
 }
 else Verbs.Unhandled();
}

function hBasement_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Un fuerte hedor viene del sotano");
 }
 else Verbs.Unhandled();
}

function hBloodStains_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Hay que pasar una valletica a esas manchas");
 }
 else Verbs.Unhandled();
}

function hCarPlates_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Me pregunto como habran llegado aqui");
 }
 else Verbs.Unhandled();
}

function hRubberChicken_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Si en algun momento veo una polea, volvere a por ti");
 }
 else Verbs.Unhandled();
}

function hChainsaw_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Brumm brumm");
 }
 else Verbs.Unhandled();
}

function hWheel_AnyClick()
{
if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Compatible con Lada Niva");
 }
 else Verbs.Unhandled();
}

function region1_WalksOnto()
{
  player.StopMoving();
  if(hasTriedToGoToBasement){
    hasTriedToGoToBasement = true;
    cCabarra.Say("No!");
    player.FaceCharacter(cCabarra);
    player.Say("Vale vale..."); 
  }
  else{
    cCabarra.Say("Espera!");
    cCabarra.Say("No puedes bajar al sotano");
    player.FaceCharacter(cCabarra);
    player.Say("Porque?");
    cCabarra.Say("eh... tengo que limpiarlo");
    cCabarra.Say("He hecho un desastre con ese kebab");
    player.Say("Ya, claro..");
  }
  
}
