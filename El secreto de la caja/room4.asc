// room script file

function room_Load()
{
shopMusic.Play();
}

function room_AfterFadeIn()
{
  Verbs.MovePlayer(700, 640);
}

function oShopDoorOpened_AnyClick()
{
  
  if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("TODO");
 }
 else if(Verbs.UsedAction(eGA_Close)) {
   Verbs.MovePlayer(250, 500);
    oShopDoorOpened.Visible = false;
    oShopDoorClosed.Visible = true;
 }
 else if(Verbs.UsedAction(eGA_WalkTo)){
   Verbs.MovePlayer(175, 500);
    shopMusic.Stop();
  player.EnterRoom(2, 1071, 928, eDirectionDown);
 }
 else Verbs.Unhandled();
  
}

function oShopDoorClosed_AnyClick()
{
  if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("TODO");
 }
 else if(Verbs.UsedAction(eGA_Open)) {
   Verbs.MovePlayer(250, 500);
    oShopDoorClosed.Visible = false;
  oShopDoorOpened.Visible = true;
 }

 else Verbs.Unhandled();
}

function cCabarra_AnyClick()
{
  if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("TODO");
 }
 else if(Verbs.UsedAction(eGA_TalkTo)) {
   Verbs.MovePlayer(1990,  600);
    String greetings[] = new String[2];
    greetings[0]= "Cabarra!";
    greetings[1]= "Calabuch!";
   String greeting =greetings[Random(1)];
   player.Say(greeting);
   cCabarra.Say("Hola Juan");
   dCabarra.Start();
 }

 else Verbs.Unhandled();
}


