// room script file

function room_Load()
{
  shopMusic.Play();
}

function room_AfterFadeIn()
{
  Verbs.MovePlayer(700, 640);
}

function oShopDoorOpened_AnyClick()
{
  
  if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("HODOR Aguanta el porton!");
 }
 else if(Verbs.UsedAction(eGA_Close)) {
   Verbs.MovePlayer(255,580);
   player.FaceDirection(eDirectionLeft);
    oShopDoorOpened.Visible = false;
    oShopDoorClosed.Visible = true;
    //It should not be necessary to remove 1 and restore the other
    RemoveWalkableArea(1);
 }
 else if(Verbs.UsedAction(eGA_WalkTo)){
   Verbs.MovePlayer(175, 500);
    shopMusic.Stop();
    player.EnterRoom(2, 1071, 928, eDirectionDown);
 }
 else Verbs.Unhandled();
  
}

function oShopDoorClosed_AnyClick()
{
  if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("HODOR Aguanta el porton!");
 }
 else if(Verbs.UsedAction(eGA_Open)) {
   Verbs.MovePlayer(255,580);
   player.FaceDirection(eDirectionLeft);
  oShopDoorClosed.Visible = false;
  oShopDoorOpened.Visible = true;
  //It should not be necessary to remove 1 and restore the other
  RestoreWalkableArea(1);
 }

 else Verbs.Unhandled();
}

function hFlag_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   player.FaceDirection(eDirectionUp);
  player.Say("Para comprarla necesitas el numero de afiliacion a VOX");
 }
 else Verbs.Unhandled();
}

function hAC_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   player.FaceDirection(eDirectionLeft);
  player.Say("Freshquisimo");
 }
 else Verbs.Unhandled();
}

function hMusicTapes_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   Verbs.MovePlayer(400, 450);
   player.FaceDirection(eDirectionUp);
   player.Say("Camela");
   player.Say("El Fary");
   player.Say("Modern Talking");
   player.Say("Maquina total ocho");
   player.Say("Georgie Dann");
   player.Say("...");
   player.Say("Ya no se hace musica como antes");
 }
 else Verbs.Unhandled();
}

function hWhiteTshirt_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   Verbs.MovePlayer(575, 515);
   player.FaceDirection(eDirectionUp);
   player.Say("La etiqueta dice");
   player.Say("Propiedad de Butch Coolidge");
   player.Say("No se, pero podrian haber limpiado las manchas de tomate");
 }
 else Verbs.Unhandled();
}

function hGreenTshirt_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   Verbs.MovePlayer(575, 515);
   player.FaceDirection(eDirectionUp);
  player.Say("Lo mismo te vale de pijama que para una boda");
 }
 else Verbs.Unhandled();
}

function hJacket_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   Verbs.MovePlayer(575, 515);
   player.FaceDirection(eDirectionUp);
  player.Say("Muy rica la chaqueta");
 }
 else Verbs.Unhandled();
}

function hCamuflageTshirt_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   Verbs.MovePlayer(575, 515);
   player.FaceDirection(eDirectionUp);
  player.Say("Muy rica la camiseta");
 }
 else Verbs.Unhandled();
}

function hInstruments_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Me encanta el Banjo");
 }
 else if(Verbs.UsedAction(eGA_Use)) {
  player.Say("No se tocar nada");
  player.Say("A parte de mi sardina");
 }
 else Verbs.Unhandled();
}

function hUteboPoster_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Utebo, ciudad de vacaciones");
 }
 else Verbs.Unhandled();
}

function hElectronics_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Buenos cachibaches");
 }
 else Verbs.Unhandled();
}

function hKatana_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Hattori Hanzo!");
 }
 else Verbs.Unhandled();
}

function hMouseHole_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Eso se arregla con un lindo gatuno");
 }
 else Verbs.Unhandled();
}

function hBaseballBat_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("La Cabarra esta lista para defenderse");
 }
 else Verbs.Unhandled();
}

function hBasement_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Un fuerte hedor viene del sotano");
 }
 else Verbs.Unhandled();
}

function hBloodStains_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
   player.FaceDirection(eDirectionRight);
  player.Say("Hay que pasar una valletica a esas manchas");
 }
 else Verbs.Unhandled();
}

function hRubberChicken_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Si en algun momento veo una polea, volvere a por ti");
 }
 else Verbs.Unhandled();
}

function hChainsaw_AnyClick()
{
 if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Brumm brumm");
 }
 else Verbs.Unhandled();
}

function hWheel_AnyClick()
{
if(Verbs.UsedAction(eGA_LookAt)) {
  player.Say("Compatible con Lada Niva");
 }
 else Verbs.Unhandled();
}

function region1_WalksOnto()
{
  player.StopMoving();
  if(hasTriedToGoToBasement){
    cCabarra.Say("No!");
    player.FaceCharacter(cCabarra);
    player.Say("Vale vale..."); 
  }
  else{
    cCabarra.Say("Espera!");
    cCabarra.Say("No puedes bajar al sotano");
    player.FaceCharacter(cCabarra);
    player.Say("Por que?");
    cCabarra.Say("eh... tengo que limpiarlo");
    cCabarra.Say("Lo tengo todo hecho una escabechina");
    player.Say("Ya...");
    hasTriedToGoToBasement = true;
  }
  
}
