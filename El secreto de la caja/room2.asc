// room script file
function room_Load()
{
  gScummBar.Visible = false;
  gAction.SetPosition(0, 1039);
  gAction.BackgroundColor = 32;
  gAction.Transparency = 40;
  mapMusic.Play();
  
  if(isMobileCharging){
      isMobileCharged = true;
  }
  
  player.FaceDirection(eDirectionDown);
  timesJuanHasBeenInMap++;
  if(timesJuanHasBeenInMap != 5){
    cGuybrush.x = -100;
    cGuybrush.y = -100;
  }
}

function room_FirstLoad()
{
  player.Say("Ahora hace sol...");
  Wait(10);
  player.Say("Mu rico");
}

function room_AfterFadeIn()
{
  if(timesJuanHasBeenInMap == 5){
    timesJuanHasBeenInMap = 0;
    cGuybrush.x = 0;
    cGuybrush.y = 305;
    cGuybrush.Walk(1920, 190, eNoBlock, eWalkableAreas);
    cGuybrush.AddWaypoint(1960, 190);
  }
}

function hHome_Mode8()
{
  player.EnterRoom(5, 1193, 489, eDirectionUp);
}

function hTownHall_Mode8()
{
  player.EnterRoom(3, 483, 652, eDirectionLeft);
}

function hBadulaque_Mode8()
{
player.EnterRoom(4,275,560, eDirectionUp);
}

function room_Leave()
{
  mapMusic.Stop();
  gScummBar.Visible = true;
  gAction.SetPosition(0, 889);
  gAction.BackgroundColor = 0;
  gAction.Transparency = 0;
}



